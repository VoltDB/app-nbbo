{"name":"App-nbbo","tagline":"NBBO Calculation example","body":"# VoltDB Example App: National Best Bid & Offer (NBBO) Calculation\r\n\r\nUse Case\r\n--------\r\nProcess incoming market data ticks to calculate the NBBO in real-time.\r\n\r\nClient generates ticks based on stock listings (with recent end-of-day prices) from NYSE, AMEX, NASDAQ.  These prices are used as starting points, but the tick generation uses a random walk to update price.  Quantities are chosen at random.  This is a very simplistic generator, just meant to test the database workload.\r\n\r\n\r\nCode organization\r\n-----------------\r\nThe code is divided into projects:\r\n\r\n- \"db\": the database project, which contains the schema, stored procedures and other configurations that are compiled into a catalog and run in a VoltDB database.  \r\n- \"client\": a java client that generates tick events and records performance metrics.\r\n\r\nSee below for instructions on running these applications.  For any questions, \r\nplease contact fieldengineering@voltdb.com.\r\n\r\nPre-requisites\r\n--------------\r\nBefore running these scripts you need to have VoltDB 4.0 (Enterprise or Community) or later installed, and you should add the voltdb-$(VERSION)/bin directory to your PATH environment variable, for example:\r\n\r\n    export PATH=\"$PATH:$HOME/voltdb-ent-4.2/bin\"\r\n\r\n\r\nInstructions\r\n------------\r\n\r\n1. Start the database (in the background)\r\n\r\n    cd db\r\n    ./run.sh\r\n\t(Ctrl-C)\r\n     \r\n2. Run the client benchmark application\r\n\r\n    cd client\r\n    ./run.sh\r\n\r\n4. To stop the database\r\n\r\n    voltadmin shutdown\r\n\r\n\r\nOptions\r\n-------\r\nYou can control various characteristics of the demo by modifying the parameters passed into the NbboBenchmark java application in the client/run.sh script.\r\n\r\nSpeed & Duration:\r\n\r\n    --duration=120                (benchmark duration in seconds)\r\n    --autotune=true               (true = ignore rate limit, run at max throughput until latency is impacted)\r\n                                  (false = run at the specified rate limit)\r\n    --ratelimit=20000             (when autotune=false, run up to this rate of requests/second)\r\n\r\n\r\nInstructions for running on a cluster\r\n-------------------------------------\r\n\r\nBefore running this demo on a cluster, make the following changes:\r\n\r\n1. On each server, edit the db/run.sh file to set the HOST variable to the name of the **first** server in the cluster:\r\n    \r\n    HOST=voltserver01\r\n    \r\n2. On each server, edit db/deployment.xml to change hostcount from 1 to the actual number of servers:\r\n\r\n    <cluster hostcount=\"1\" sitesperhost=\"3\" kfactor=\"0\" />\r\n\r\n4. On each server, run the start script:\r\n\r\n    cd db\r\n\t./run.sh\r\n    \r\n5. On one server, Edit the client/run.sh script to set the SERVERS variable to a comma-separated list of the servers in the cluster\r\n\r\n    SERVERS=voltserver01,voltserver02,voltserver03\r\n    \r\n6. Run the client script:\r\n\r\n\tcd client\r\n\t./run.sh\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}